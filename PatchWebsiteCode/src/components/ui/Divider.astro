---
interface Props {
    variant?: 'default' | 'jittered';
    class?: string;
}

const { variant = 'default', class: className } = Astro.props;
---

<div class:list={['divider', `divider-${variant}`, className]}>
    <div class="corner-square corner-left"></div>
    <div class="corner-square corner-right"></div>
</div>

<style>
    .divider {
        position: relative;
        height: 1px;
    }

    .divider::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100vw;
        width: 200vw;
        height: 1px;
        background-color: var(--grid-border-color);
    }

    /* Jittered variant: subtle SVG filter for imperfect line */
    .divider-jittered::before {
        background: repeating-linear-gradient(
            90deg,
            var(--grid-border-color) 0px,
            var(--grid-border-color) 11px,
            transparent 11px,
            transparent 12px
        );
        height: 1px;
        opacity: 0.8;
    }

    .divider-jittered::after {
        content: '';
        position: absolute;
        top: -0.5px;
        left: -100vw;
        width: 200vw;
        height: 2px;
        background: repeating-linear-gradient(
            90deg,
            transparent 0px,
            transparent 11px,
            var(--grid-border-color) 11px,
            var(--grid-border-color) 12px
        );
        opacity: 0.4;
    }

    .corner-square {
        position: absolute;
        width: 8px;
        height: 8px;
        transform: rotate(45deg);
        border-radius: 1px;
        border: 1px solid var(--color-blue-200);
        background: white;
        z-index: 10;
    }

    .corner-left {
        top: -3.5px;
        left: -4.5px;
    }

    .corner-right {
        top: -3.5px;
        right: -4.5px;
    }
</style>
