---
import SectionHeader from '../ui/SectionHeader.astro';

interface Supporter {
    name: string;
    logoSrc?: string;
}

interface Props {
    label?: string;
    title: string;
    subtitle?: string;
    supporters: Supporter[];
    class?: string;
}

const { label, title, subtitle, supporters, class: className } = Astro.props;
---

<section class:list={['supporters-section', className]}>
    <SectionHeader label={label} title={title} subtitle={subtitle} />

    <div class="supporters-grid">
        {supporters.map((supporter) => (
            <div class="supporter-logo">
                {supporter.logoSrc ? (
                    <img src={supporter.logoSrc} alt={supporter.name} loading="lazy" />
                ) : (
                    <span class="supporter-name">{supporter.name}</span>
                )}
            </div>
        ))}
    </div>
</section>

<style>
    .supporters-section {
        padding: 48px 24px;
    }

    .supporters-grid {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        gap: 32px 48px;
        max-width: 900px;
        margin: 0 auto;
        padding: 24px;
    }

    .supporter-logo {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 48px;
        filter: grayscale(100%);
        opacity: 0.7;
        transition: all 0.2s ease;
    }

    .supporter-logo:hover {
        filter: grayscale(0%);
        opacity: 1;
    }

    .supporter-logo img {
        max-height: 100%;
        max-width: 120px;
        object-fit: contain;
    }

    .supporter-name {
        font-size: var(--text-sm);
        font-weight: 500;
        color: var(--text-muted);
        padding: 8px 16px;
        border: 1px solid var(--default-border-color);
        border-radius: 4px;
        background: rgba(255, 255, 255, 0.5);
    }

    @media (max-width: 640px) {
        .supporters-grid {
            gap: 24px 32px;
        }

        .supporter-logo {
            height: 36px;
        }

        .supporter-logo img {
            max-width: 100px;
        }
    }
</style>
